{
  "hooks": {
    "PreCompact": [
      {
        "hooks": [
          {
            "type": "command",
            "command": "bash -c 'STATE=\"docs/state/active-session.md\"; SNAPDIR=\"docs/state/snapshots\"; mkdir -p \"$SNAPDIR\"; if [ -f \"$STATE\" ]; then STAMP=$(date +%Y%m%d-%H%M%S); cp \"$STATE\" \"$SNAPDIR/session-$STAMP.md\"; echo \"[PreCompact] Snapshot saved: session-$STAMP.md\"; ls -t \"$SNAPDIR\"/*.md 2>/dev/null | tail -n +6 | xargs -r rm; echo \"[PreCompact] Kept last 5 snapshots\"; else echo \"[PreCompact] No active-session.md found, skipping snapshot\"; fi'"
          }
        ]
      }
    ],
    "PostToolUse": [
      {
        "matcher": "Edit|Write|MultiEdit",
        "hooks": [
          {
            "type": "command",
            "command": "bash -c 'echo \"[Context] Rappel gestion contexte : <50% idÃ©al | 50-70% vigilance | >70% /save-state immÃ©diat\"'"
          }
        ]
      }
    ],
    "Stop": [
      {
        "hooks": [
          {
            "type": "command",
            "command": "bash -c 'echo \"âš ï¸  Session terminÃ©e â€” Pensez Ã  /save-state avant /clear pour prÃ©server votre contexte\"'"
          }
        ]
      }
    ],
    "SubagentStop": [
      {
        "hooks": [
          {
            "type": "command",
            "command": "bash -c 'echo \"[SubagentStop] $(date +%H:%M:%S) â€” Sous-agent terminÃ©\"'"
          }
        ]
      }
    ]
  },
  "statusLine": "ğŸ—ï¸ Dev Multi-Agent | OpusÂ·SonnetÂ·Haiku | ctx<50% idÃ©al | /save-state avant /clear"
}
